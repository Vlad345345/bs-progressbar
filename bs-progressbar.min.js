/**
 * bs-progressbar.js
 * -----------------
 * 
 * A lightweight, lazy-loaded singleton for rendering a full-page overlay progress bar.
 * Designed for Bootstrap-based UI workflows and written in vanilla JavaScript.
 *
 * Author: TB (https://github.com/yesman93)
 * License: MIT
 * Version: 1.0.0
 * Repository: https://github.com/yesman93/bs-progressbar
 * CDN: https://cdn.jsdelivr.net/gh/yesman93/bs-progressbar@v1.0.0/bs-progressbar.js
 * Demo: https://yesman93.github.io/bs-progressbar/
 *
 * Released under the MIT License.
 */

Object.defineProperty(window,"Progressbar",{configurable:!1,enumerable:!1,get:function(){let e=null;return function(){return e||(e={duration_default:5e3,_interval:null,_progress:0,start(e=this.duration_default,t="",r=!1,s="bg-dark"){this.stop();const o=r?" is-transparent ":"",n=document.createElement("div");n.className=`progress-backdrop${o}`;const a=document.createElement("div");if(a.className="progress-modal p-3 rounded",t){const e=document.createElement("div");e.className="progress-caption text-left fs-12 fw-bolder mb-2 opacity-75",e.innerText=t,a.appendChild(e)}const i=document.createElement("div");i.className="progress";const l=document.createElement("div");l.className=`progress-bar ${s}`,l.role="progressbar",l.style.width="0%",l.setAttribute("aria-valuenow","0"),l.setAttribute("aria-valuemin","0"),l.setAttribute("aria-valuemax","100"),l.innerText="0 %",i.appendChild(l),a.appendChild(i),n.appendChild(a),document.body.appendChild(n),document.body.style.overflow="hidden",this._progress=0,this._interval=setInterval(()=>{this._progress+=1,this._progress>=100||(l.style.width=`${this._progress}%`,l.setAttribute("aria-valuenow",this._progress),l.innerText=`${this._progress} %`)},e/100)},update_label(e){const t=document.querySelector(".progress-caption");if(t)t.innerText=e;else{const t=document.querySelector(".progress-modal");if(t){const r=document.createElement("div");r.className="progress-caption text-left fs-12 fw-bolder mb-2 opacity-75",r.innerText=e,t.prepend(r)}}},stop(e){const t=document.querySelector(".progress-backdrop"),r=document.querySelector(".progress-bar");t&&r&&(r.style.width="100%",r.setAttribute("aria-valuenow","100"),setTimeout(()=>r.innerText="100 %",50),setTimeout(()=>{t.remove(),document.body.style.overflow="","function"==typeof e&&e()},300),clearInterval(this._interval),this._interval=null,this._progress=0)}},e)}}()});